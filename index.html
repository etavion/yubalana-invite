<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Video</title>

<style>
  html,body{
    margin:0;
    padding:0;
    background:white;
    height:100%;
    scroll-behavior: smooth;
  }

  /* VIDEO TIDAK DIUBAH */
  video{
    width:100vw;
    height:100vh;
    object-fit:cover;
  }

  /* ====== BAGIAN EFEK GAMBAR ====== */
  .scroll-section{
    width:100vw;
    height:100vh;
    overflow:hidden;
    background:white;
  }

  .scroll-img{
    width:100%;
    height:100%;
    object-fit:cover;
    opacity:0;
    transform:translateY(40px);
    transition:1.2s ease;
  }

  .scroll-img.show{
    opacity:1;
    transform:translateY(0);
  }
</style>
</head>

<body>

<!-- ====== AUDIO (TAMBAHAN) ====== -->
<audio id="bgm" src="audio.mp3" preload="auto"></audio>

<!-- ====== VIDEO TETAP SAMA ====== -->
<video controls playsinline poster="poster.png">
  <source src="video.mp4" type="video/mp4">
</video>

<!-- ====== 4 GAMBAR HALAMAN ====== -->
<section class="scroll-section" id="hal1">
  <img src="hal1.png" class="scroll-img">
</section>

<section class="scroll-section">
  <img src="hal2.png" class="scroll-img">
</section>

<section class="scroll-section">
  <img src="hal3.png" class="scroll-img">
</section>

<section class="scroll-section">
  <img src="hal4.png" class="scroll-img">
</section>

<!-- ====== SCRIPT ANIMASI FADE-IN ====== -->
<script>
const imgs = document.querySelectorAll(".scroll-img");

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("show");
    }
  });
}, { threshold: 0.2 });

imgs.forEach(img => observer.observe(img));


/* ====== AUDIO PLAY SAAT MASUK HALAMAN 1 ====== */
const bgm = document.getElementById("bgm");
let audioStarted = false;

const audioTrigger = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting && !audioStarted) {
      bgm.play().catch(()=>{});  // mulai musik
      audioStarted = true;
    }
  });
}, { threshold: 0.4 });

audioTrigger.observe(document.getElementById("hal1"));

/* ====== STOP MUSIK SAAT TAB DITINGGALKAN ====== */
document.addEventListener("visibilitychange", () => {
  if (document.hidden) {
    bgm.pause();
  } else {
    if (audioStarted) bgm.play().
